(function(c){var h={};h.toString=Object.prototype.toString;h.assert=function(i,j){if(!i){h.error(j);}};h.Break=function(){};h.Continue=function(){};h.error=function(i){throw new Error(i);
};h.each=function(k,m,j,o){if(k){if(h.toString.call(k)=="[object Array]"){for(var l=0,i=k.length;l<i;l++){if(!o||k[l]!==undefined){try{m.call(k[l],l,k[l]);
}catch(n){if(n instanceof h.Break){break;}else{if(n instanceof h.Continue){continue;}else{h.error(n);}}}}}}else{for(var l in k){if(j||!k.hasOwnProperty||k.hasOwnProperty(l)){if(!o||k[l]!==undefined){try{m.call(k[l],l,k[l]);
}catch(n){if(n instanceof h.Break){break;}else{if(n instanceof h.Continue){continue;}else{h.error(n);}}}}}}}}};h.extend=function(m,l,k,j,i,n){if(m&&l){h.each(l,function(p,o){if(j||!(p in m)){if(k){if(h.toString.call(o)=="[object Object]"&&!(o.toString&&o.toString()=="[object]")){m[p]=h.extend({},o,k,j,i,n);
}else{if(h.toString.call(o)=="[object Array]"){m[p]=h.extend([],o,k,j,i,n);}else{m[p]=o;}}}else{m[p]=o;}}},i,n);return m;}else{return null;}};h.deepclone=function(j,i){if(!j){return null;
}var k;if((h.toString.call(j)=="[object Object]"&&!(j.toString&&j.toString()=="[object]"))||h.toString.call(j)=="[object Array]"){if(i&&j.constructor){k=new j.constructor();
h.each(j,function(m,l){k[m]=h.deepclone(l,i);},false);}else{if(h.toString.call(j)=="[object Array]"){k=[];}else{k={};}h.each(j,function(m,l){k[m]=h.deepclone(l,i);
},i);}}else{k=j;}return k;};h.Class=function(k,i){k=k||function(){};i=i||{};var l;if(i.extend){if(h.toString.call(i.extend)=="[object Object]"){if(i.extend.prototype||i.extend.constructor){if(i.extend.constructor){l=function(){i.extend.constructor.apply(this,arguments);
var m=k.apply(this,arguments);if(m){return m;}};h.extend(l,i.extend.constructor,true,true);}else{l=function(){var m=k.apply(this,arguments);if(m){return m;
}};}if(i.extend.prototype){if(h.toString.call(i.extend.prototype)=="[object Object]"){var j=function(){};j.prototype=i.extend.prototype;l.prototype=new j();
}else{l.prototype=new i.extend.prototype();}}}else{l=function(){var m=k.apply(this,arguments);if(m){return m;}};}}else{l=function(){i.extend.apply(this,arguments);
var m=k.apply(this,arguments);if(m){return m;}};h.extend(l,i.extend,true,true);l.prototype=new i.extend();}}else{l=function(){var m=k.apply(this,arguments);
if(m!==undefined){return m;}};}l.prototype.constructor=l;if(i.method){h.extend(l,i.method,true,true);}if(i.prototype){h.extend(l.prototype,i.prototype,true,true);
}return l;};h.namespace=function(j,k){j=j.replace(/^B\./,"");var l=j.split(".");var i=this;h.each(l,function(){if(!i[this]){i[this]={};}i=i[this];});if(k){k.call(i);
}};h.param=function(j){if(typeof j=="string"){return j;}var i=[];h.each(j,function(k,l){i.push(encodeURIComponent(k)+"="+encodeURIComponent(l));});return i.join("&");
};h.ajax=function(i){i=h.extend({type:"GET",url:c.location.href,data:{},contentType:"application/x-www-form-urlencoded",async:true,success:function(){},error:function(){}},i,true,true);
i.xhr=i.xhr||c.XMLHttpRequest?new c.XMLHttpRequest():new c.ActiveXObject("Microsoft.XMLHTTP");i.type=i.type.toUpperCase();i.data=h.param(i.data);if(i.data&&i.type==="GET"){i.url+=(/\?/.test(i.url)?"&":"?")+i.data;
}i.xhr.open(i.type,i.url,i.async);i.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");i.xhr.setRequestHeader("Content-Type",i.contentType);i.xhr.send(i.type==="GET"?null:i.data);
i.xhr.onreadystatechange=function(){if(i.xhr.readyState==4){if((i.xhr.status>=200&&i.xhr.status<300)||i.xhr.status==304||i.xhr.status==1223){i.success.call(i.xhr,i.xhr);
}else{i.error.call(i.xhr,i.xhr);}}};return i.xhr;};h.Array={};h.Array.indexOf=function(j,k){var i=-1;h.each(j,function(m,l){if(l===k){i=m;throw new h.Break();
}});return i;};h.Array.remove=function(i,k){var j;if((j=h.Array.indexOf(i,k))!=-1){i.splice(j,1);}};h.String={};h.String.format=function(i){h.each(Array.prototype.slice.call(arguments,1),function(l,j){i=i.replace(new RegExp("\\{"+l+"\\}","g"),j);
});return i;};h.String.fill=function(k,m){k=k||0;m=m||" ";var l=[];for(var j=0;j<k;j++){l.push(m);}return l.join("");};h.String.leftFill=function(k,i,j){return h.String.fill(i-k.length,j)+k;
};h.String.rightFill=function(){return str+h.String.fill(length-str.length,fill);};h.String.trim=function(i){return h.String.trimLeft(h.String.trimRight(i));
};h.String.trimLeft=function(i){return i.replace(/^\s+/,"");};h.String.trimRight=function(i){return i.replace(/\s+$/,"");};h.String.replace=function(j,k,i){if(typeof j=="string"){if(typeof k=="function"){return k.call(j);
}else{return String.prototype.replace.call(j,k,i);}}else{var l;if(h.toString.call(j)=="[object Array]"){l=[];}else{l={};}h.each(j,function(n,m){l[n]=h.String.replace(m,k,i);
});return l;}};h.Color={};h.Color.FLAG_TO_NUM=1<<0;h.Color.FLAG_TO_STR=1<<1;h.Color.FLAG_TO_RGB=1<<2;h.Color.FLAG_TO_HEX=1<<3;h.Color.FLAG_TO_HSL=1<<4;
h.Color.convert=function(u){if(u&h.Color.FLAG_TO_NUM){var t;var k;var v=arguments[1];if((t=0,k=v.match(/^rgb\((\d+),(\d+),(\d+)\)$/))||(t=1,k=v.match(/^#(.*?)$/))){if(t==0){if(u&h.Color.FLAG_TO_RGB){var j=parseInt(k[1],16);
var i=(j>>16)&255;var q=(j>>8)&255;var w=(j)&255;return[i,q,w];}if(u&h.Color.FLAG_TO_HEX){var j=parseInt(k[1],16);return j;}}if(t==1){if(u&h.Color.FLAG_TO_RGB){var i=parseInt(k[1]);
var q=parseInt(k[2]);var w=parseInt(k[3]);return[i,q,w];}if(u&h.Color.FLAG_TO_HEX){var i=parseInt(k[1]);var q=parseInt(k[2]);var w=parseInt(k[3]);var j=(i<<16)+(q<<8)+(w);
return j;}}}if(k=v.match(/^hsl\((\d+),(\d+%?),(\d+%?)\)$/)){if(u&h.Color.FLAG_TO_HSL){var p=parseInt(k[1]);var x=/%$/.test(k[2])?parseInt(k[2].replace(/%$/,""))/100:parseInt(k[2]);
var o=/%$/.test(k[3])?parseInt(k[3].replace(/%$/,""))/100:parseInt(k[3]);return[p,x,o];}}}if(u&h.Color.FLAG_TO_STR){if(u&h.Color.FLAG_TO_RGB){if(arguments.length==2){var j=arguments[1];
var i=(j>>16)&255;var q=(j>>8)&255;var w=(j)&255;return h.String.format("rgb({0},{1},{2})",i,q,w);}else{var i=arguments[1];var q=arguments[2];var w=arguments[3];
return h.String.format("rgb({0},{1},{2})",i,q,w);}}if(u&h.Color.FLAG_TO_HEX){if(arguments.length==2){var j=arguments[1];return"#"+h.String.leftFill(j.toString(16),6,"0");
}else{var i=arguments[1];var q=arguments[2];var w=arguments[3];return"#"+h.String.leftFill(((i<<16)+(q<<8)+(w)).toString(16),6,"0");}}if(u&h.Color.FLAG_TO_HSL){var p=arguments[1];
var x=arguments[2];var o=arguments[3];return h.String.format("hsl({0},{1},{2})",p,x,o);}}return null;};h.later=function(l,k,j){var i=Array.prototype.slice.call(arguments,3);
setTimeout(function(){k.apply(j,i);},l);};(function(m){var l="";var k;var j;var i=document.getElementsByTagName("script");m.each(i,function(o,n){var p=n.src;
if(j=p.match(/Briage(\.min)?\.js$/)){l=p.replace(j[0],"");if(j[1]){k=true;}else{k=false;}throw new m.Break();}});m.path=l;m.min=k;})(h);h.Loader={};h.Loader.State={};
h.Loader.State.FROM_CACHE=0;h.Loader.State.FROM_SERVER=1;h.Loader.State.HAS_BEEN_LOADED=0;h.Loader.State.JUST_LOADED=1;var a={};h.Loader.loadImage=function(k,j,l,n,i){if(!i&&a[k]){if(l){l.call(a[k],a[k],h.Loader.State.FROM_CACHE);
}}else{var m=new Image();m.src=n?j:h.path+j;m.onload=function(){a[k]=m;if(l){l.call(m,m,h.Loader.State.FROM_SERVER);}};}};h.Loader.loadImages=function(j,m,o,i){var l={};
var k=0;var n=0;h.each(j,function(){k++;});if(k==0){if(m){m.call(l,l);}}h.each(j,function(q,p){h.Loader.loadImage(q,p,function(r){l[q]=r;n++;if(k==n){if(m){m.call(l,l);
}}},o,i);});};var d={};h.Loader.loadFile=function(k,j,l,m,i){if(!i&&d[k]){if(l){l.call(d[k],d[k],h.Loader.State.FROM_CACHE);}}else{h.ajax({url:(m?j:h.path+j),success:function(n){d[k]=n.responseText;
if(l){l.call(n.responseText,n.responseText,h.Loader.State.FROM_SERVER);}}});}};h.Loader.loadFiles=function(l,m,o,i){var k={};var j=0;var n=0;h.each(l,function(){j++;
});if(j==0){if(m){m.call(k,k);}}h.each(l,function(q,p){h.Loader.loadFile(q,p,function(r){k[q]=r;n++;if(j==n){if(m){m.call(k,k);}}},o,i);});};var b={};h.Loader.loadScript=function(l,k,m,n,i){if(!i&&b[l]){if(m){m(h.Loader.State.FROM_CACHE);
}}else{var j=document.createElement("script");j.async=true;j.type="text/javascript";j.src=n?k:h.path+k;document.getElementsByTagName("head")[0].appendChild(j);
j.onreadystatechange=function(){if(j.readyState=="loaded"||j.readyState=="complete"){b[l]=true;if(m){m(h.Loader.State.FROM_SERVER);}}};j.onload=function(){b[l]=true;
if(m){m(h.Loader.State.FROM_SERVER);}};}};h.Loader.loadScripts=function(j,l,n,i){var k=0;var m=0;h.each(j,function(){k++;});if(k==0){if(l){l();}}h.each(j,function(p,o){h.Loader.loadScript(p,o,function(){m++;
if(k==m){if(l){l();}}},n,i);});};var g={};h.Loader.loadStyleSheet=function(k,j,m,i){if(!i&&g[k]){return;}var l=document.createElement("link");l.rel="stylesheet";
l.type="text/css";l.href=j;document.getElementsByTagName("head")[0].appendChild(l);g[k]=true;};h.Loader.loadStyleSheets=function(k,j,l,i){h.each(k,function(n,m){h.Loader.loadStyleSheet(n,m,l,i);
});};var f={};h.Loader.loadModule=function(i,j){if(h.min){i=i.replace(/^(?:Briage\.)?(.*?)(?:\.min)?(?:\.js)?$/,"Briage.$1.min.js");}else{i=i.replace(/^(?:Briage\.)?(.*?)(?:\.min)?(?:\.js)?$/,"Briage.$1.js");
}if(f[i]){if(j){f[i].handles.push(j);}}else{f[i]={onload:function(){h.each(f[i].handles,function(m,l){l();});delete f[i];},handles:[]};if(j){f[i].handles.push(j);
}h.Loader.loadScript(i,i,function(k){if(k==h.Loader.State.HAS_BEEN_LOADED){f[i].onload();}});}};h.Loader.loadModules=function(j,k){var i=0;var l=0;h.each(j,function(){i++;
});if(i==0){if(k){k();}}h.each(j,function(n,m){h.Loader.loadModule(m,function(){l++;if(i==l){if(k){k();}}});});};var e=new h.Class(function(){if(!(this instanceof e)){return new e();
}return this;},{prototype:{use:function(){var j=arguments.length;if(!j){return;}var i;var k;if(h.toString.call(arguments[0])=="[object Array]"){i=arguments[0];
if(j==1){k=null;}else{if(typeof arguments[1]=="function"){k=arguments[1];}else{k=null;}}}else{if(typeof arguments[j-1]=="function"){i=Array.prototype.slice.call(arguments,0,-1);
k=arguments[j-1];}else{i=arguments;k=null;}}h.Loader.loadModules(i,function(){if(k){k(h.deepclone(h,true));}});},add:function(l,j,i,k){if(h.min){j=j.replace(/^(?:Briage\.)?(.*?)(?:\.min)?(?:\.js)?$/,"Briage.$1.min.js");
}else{j=j.replace(/^(?:Briage\.)?(.*?)(?:\.min)?(?:\.js)?$/,"Briage.$1.js");}k=k||{};this.use(i,function(){h.Loader.loadScripts(k.scripts,function(){var o=new e.Event(j);
l(h,o);if(!o.isWaiting()){o.end();}});if(k.images){var m={};h.each(k.images,function(p,o){m[o]=o;});h.Loader.loadImages(m);}if(k.styleSheets){var n={};
h.each(k.styleSheets,function(p,o){n[o]=o;});h.Loader.loadStyleSheets(n);}});}}});e.Event=new h.Class(function(i){this._name=i;},{prototype:{_waiting:false,_complete:false,isWaiting:function(){return this._waiting;
},wait:function(){this._waiting=true;},end:function(){if(!this._complete){if(f[this._name]){f[this._name].onload();}this._complete=true;}}}});c.Briage=e;
})(window);